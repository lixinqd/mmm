<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>

<!--
  需求: 页面与页面传值, 传了多个参数, 比如
        ?key=2&name=鹏鹏&age=18
        将所有的参数, 解析出来, 并以键值对的方式存储在对象中
-->
<script>

  function getSearch( k ) {
    // 获取地址栏参数
    var search = location.search;   // "?key=2&name=%E9%B9%8F%E9%B9%8F&age=18"

    // 转码成中文
    search = decodeURI( search );  // "?key=2&name=鹏鹏&age=18"

    // slice(start, end); 从start开始截取, 截取到end结束
    //       包含 start, 不包含end
    //       如果不写 end, 截取到最后
    // 去掉问号
    search = search.slice(1);    // key=2&name=鹏鹏&age=18

    // 得到键值对字符串的数组
    var arr = search.split("&");  // ["key=2", "name=鹏鹏", "age=18"]

    var obj = {};

    // 遍历数组, 取出键和值, 存储到对象中去
    arr.forEach(function( v, i ) {    // v 表示每一项   "age=18"
      var key = v.split("=")[0]; // 键   age
      var value =  v.split("=")[1]; // 值  18

      // 点语法和中括号语法的区别在于, 中括号语法会解析变量
      obj[ key ] = value;
    })

    return obj[ k ];
  }


  // 解析地址栏参数的函数
  var age = getSearch("desc");
  console.log( age );




</script>




</body>
</html>